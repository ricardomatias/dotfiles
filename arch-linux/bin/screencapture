#!/bin/bash

echo "select screen region to capture"

rect=$(xrectsel)

dimensions=$(echo $rect | cut -d + -f 1)
width=$(echo $dimensions | cut -d x -f 1)
height=$(echo $dimensions | cut -d x -f 2)
x=$(echo $rect | cut -d + -f 2)
y=$(echo $rect | cut -d + -f 3)

echo "starting in 2"

sleep 2

echo "recording"
byzanz-record -w $width -h $height -x $x -y $y $@
echo "done."

echo "repeat screen capture via"
echo "> sleep 2 && echo \"recording\" && byzanz-record -w $width -h $height -x $x -y $y $@"